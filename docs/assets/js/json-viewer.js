const toString=Object.prototype.toString;function isString(t){return"string"==typeof t}function isNumber(t){return"number"==typeof t}function isBoolean(t){return"boolean"==typeof t}function isUndefined(t){return void 0===t}function isArray(t){return"[object Array]"===toString.call(t)}function isObject(t){return"[object Object]"===toString.call(t)}function isNull(t){return"[object Null]"===toString.call(t)}function JsonViewer(t){if(this.options=Object.assign({theme:"light",container:null,data:"{}",expand:!1},t),isNull(t.container))throw new Error("Container: dom element is required");this.render()}JsonViewer.prototype.renderRight=function(t,e,n){isNumber(n)?e.setAttribute("class",t+"rightNumber"):isBoolean(n)?e.setAttribute("class",t+"rightBoolean"):"null"===n?e.setAttribute("class",t+"rightNull"):e.setAttribute("class",t+"rightString"),e.innerText=n},JsonViewer.prototype.renderChildren=function(t,e,n,r,i,o){let s=this,l=this.createElement("span"),a=this.options.expand?"rotate90":"",c=this.options.expand?"add-height":"";l.setAttribute("class",t+"folder "+a),l.onclick=function(t){let e=t.target.parentNode.nextSibling;s.toggleItem(e,t.target)};let p=0,u=!1;isObject(n)?(p=Object.keys(n).length,u=!0):p=n.length,o.innerHTML=u?e+"&nbsp;&nbsp{"+p+"}":e+"&nbsp;&nbsp["+p+"]",o.prepend(l),r.setAttribute("class",t+"rightObj "+c),s.parse(n,r,i+0,t)},JsonViewer.prototype.parse=function(t,e,n,r){const i=this;this.forEach(t,function(t,o){const{left:s,right:l}=i.createItem(n,r,e,o,"object"!=typeof t);"object"!=typeof t?i.renderRight(r,l,t):i.renderChildren(r,o,t,l,n,s)})},JsonViewer.prototype.createItem=function(t,e,n,r,i){let o=this,s=this.createElement("div"),l=this.createElement("div"),a=this.createElement("div"),c=this.createElement("div");return s.style.marginLeft=2*t+"px",l.innerHTML=`${r}<span class="jv-${e}-symbol">&nbsp;:&nbsp;</span>`,i?(s.appendChild(c),c.appendChild(l),c.appendChild(a),n.appendChild(s),s.setAttribute("class",e+"current"),c.setAttribute("class","jv-wrap"),l.setAttribute("class",e+"left")):(s.appendChild(l),s.appendChild(a),n.appendChild(s),s.setAttribute("class",e+"current"),l.setAttribute("class",e+"left jv-folder"),l.onclick=function(t){let e=t.target.nextSibling;o.toggleItem(e,t.target.querySelector("span"))}),{left:l,right:a,current:s}},JsonViewer.prototype.render=function(){let t,e=this.options.data,n="jv-"+this.options.theme+"-",r=this.options.container,i="object";r.setAttribute("class",n+"con");try{t=JSON.parse(e)}catch(t){throw new Error("It is not a json format")}isArray(t)&&(i="array");const{left:o,right:s}=this.createItem(0,n,r,i);this.renderChildren(n,i,t,s,0,o)},JsonViewer.prototype.toggleItem=function(t,e){t.classList.toggle("add-height"),e.classList.toggle("rotate90")},JsonViewer.prototype.createElement=function(t){return document.createElement(t)},JsonViewer.prototype.forEach=function(t,e){if(!isUndefined(t)&&!isNull(t))if("object"==typeof t&&isArray(t))for(let n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(key in t)t.hasOwnProperty(key)&&e.call(null,t[key]||"null",key,t)};